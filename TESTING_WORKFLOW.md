# Synapse æ•°æ®æ”¶é›†å®Œæ•´æµ‹è¯•æµç¨‹

## ğŸš€ æµ‹è¯•å‰å‡†å¤‡

### 1. æ‰©å±•çŠ¶æ€æ£€æŸ¥
- [ ] åœ¨Firefoxæ‰©å±•ç®¡ç†é¡µé¢é‡æ–°åŠ è½½Synapseæ‰©å±•
- [ ] ç‚¹å‡»Synapseæ‰©å±•å›¾æ ‡ï¼Œç¡®è®¤æ˜¾ç¤º"Pause"æŒ‰é’®ï¼ˆè¡¨ç¤ºæœªæš‚åœï¼‰
- [ ] æ‰“å¼€å¼€å‘è€…å·¥å…·(F12)ï¼Œæ¸…ç©ºConsoleæ—¥å¿—

### 2. æ¸…ç©ºä¹‹å‰çš„æ•°æ®
- [ ] åœ¨æ‰©å±•å¼¹çª—ä¸­ç‚¹å‡»"Clear"æŒ‰é’®æ¸…ç©ºä¹‹å‰çš„æ•°æ®
- [ ] æˆ–è€…åœ¨DevModeä¸­å¯¼å‡ºå½“å‰æ•°æ®ä½œä¸ºbaseline

## ğŸ“Š å®Œæ•´æµ‹è¯•æµç¨‹ (14ç§äº‹ä»¶ç±»å‹)

### é˜¶æ®µ1: åŸºç¡€äº¤äº’äº‹ä»¶ (5ç§)

#### 1.1 ç‚¹å‡»äº‹ä»¶ (user_action_click) âœ…
- [ ] æ‰“å¼€ https://www.google.com
- [ ] ç‚¹å‡»æœç´¢æ¡†
- [ ] ç‚¹å‡»"Google æœç´¢"æŒ‰é’®
- [ ] ç‚¹å‡»é¡µé¢ä¸Šçš„é“¾æ¥
- [ ] å³é”®ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®

#### 1.2 é”®ç›˜äº‹ä»¶ (user_action_keydown) âœ…
- [ ] åœ¨æœç´¢æ¡†ä¸­æŒ‰ä¸‹ Ctrl+A (å…¨é€‰)
- [ ] æŒ‰ä¸‹ Escape é”®
- [ ] æŒ‰ä¸‹ F5 åˆ·æ–°é¡µé¢
- [ ] æŒ‰ä¸‹ Tab é”®åˆ‡æ¢ç„¦ç‚¹

#### 1.3 æ–‡æœ¬è¾“å…¥äº‹ä»¶ (user_action_text_input) âœ…
- [ ] åœ¨Googleæœç´¢æ¡†ä¸­è¾“å…¥"æµ‹è¯•æŸ¥è¯¢"
- [ ] åˆ é™¤éƒ¨åˆ†æ–‡å­—
- [ ] å†æ¬¡è¾“å…¥æ–°çš„å†…å®¹

#### 1.4 æ»šåŠ¨äº‹ä»¶ (user_action_scroll) ğŸ”„
- [ ] å‘ä¸‹ç¼“æ…¢æ»šåŠ¨é¡µé¢ (è‡³å°‘50åƒç´ )
- [ ] å‘ä¸Šæ»šåŠ¨é¡µé¢
- [ ] æ”¹å˜æ»šåŠ¨æ–¹å‘å¤šæ¬¡
- [ ] å¦‚æœé¡µé¢å¤ªçŸ­ï¼Œæ‰“å¼€ä¸€ä¸ªé•¿é¡µé¢å¦‚Wikipediaæ–‡ç« 

#### 1.5 é¼ æ ‡ç§»åŠ¨æ¨¡å¼ (user_action_mouse_pattern) ğŸ”„
- [ ] åœ¨é¡µé¢ä¸Šç”»åœ†åœˆ (è‡³å°‘3-4åœˆ)
- [ ] ç”»zigzagé”¯é½¿çŠ¶ç§»åŠ¨
- [ ] å¿«é€Ÿç§»åŠ¨é¼ æ ‡ç„¶ååœæ­¢
- [ ] ç¼“æ…¢ç›´çº¿ç§»åŠ¨é¼ æ ‡

### é˜¶æ®µ2: é«˜çº§äº¤äº’äº‹ä»¶ (5ç§)

#### 2.1 è¡¨å•æäº¤äº‹ä»¶ (user_action_form_submit)
- [ ] è®¿é—® https://httpbin.org/forms/post
- [ ] å¡«å†™è¡¨å•å­—æ®µ
- [ ] ç‚¹å‡»"Submit"æŒ‰é’®æäº¤è¡¨å•

#### 2.2 ç„¦ç‚¹å˜åŒ–äº‹ä»¶ (user_action_focus_change)
- [ ] åœ¨æœ‰å¤šä¸ªè¾“å…¥æ¡†çš„é¡µé¢ä¸Šç‚¹å‡»ä¸åŒè¾“å…¥æ¡†
- [ ] ä½¿ç”¨Tabé”®åœ¨è¡¨å•å­—æ®µé—´åˆ‡æ¢
- [ ] ç‚¹å‡»é¡µé¢å…¶ä»–åŒºåŸŸä½¿è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹

#### 2.3 é¡µé¢å¯è§æ€§äº‹ä»¶ (user_action_page_visibility)
- [ ] æœ€å°åŒ–æµè§ˆå™¨çª—å£
- [ ] æ¢å¤æµè§ˆå™¨çª—å£
- [ ] åˆ‡æ¢åˆ°å…¶ä»–åº”ç”¨ç¨‹åº
- [ ] å†æ¬¡è¿”å›æµè§ˆå™¨

#### 2.4 é¼ æ ‡æ‚¬åœäº‹ä»¶ (user_action_mouse_hover)
- [ ] å°†é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Š (åœç•™2ç§’ä»¥ä¸Š)
- [ ] æ‚¬åœåœ¨æŒ‰é’®ä¸Š
- [ ] æ‚¬åœåœ¨å›¾ç‰‡ä¸Š
- [ ] ç§»å¼€é¼ æ ‡

#### 2.5 å‰ªè´´æ¿äº‹ä»¶ (user_action_clipboard)
- [ ] é€‰æ‹©é¡µé¢ä¸Šçš„ä¸€æ®µæ–‡å­—
- [ ] æŒ‰ Ctrl+C å¤åˆ¶
- [ ] åœ¨è¾“å…¥æ¡†ä¸­æŒ‰ Ctrl+V ç²˜è´´
- [ ] é€‰æ‹©æ–‡å­—åæŒ‰ Ctrl+X å‰ªåˆ‡

### é˜¶æ®µ3: æµè§ˆå™¨çº§åˆ«äº‹ä»¶ (4ç§)

#### 3.1 æ ‡ç­¾é¡µåˆ›å»º (browser_action_tab_created) âœ…
- [ ] æŒ‰ Ctrl+T æ–°å»ºæ ‡ç­¾é¡µ
- [ ] å³é”®ç‚¹å‡»é“¾æ¥é€‰æ‹©"åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€"
- [ ] ä¸­é”®ç‚¹å‡»é“¾æ¥(æ»šè½®ç‚¹å‡»)

#### 3.2 æ ‡ç­¾é¡µæ¿€æ´» (browser_action_tab_activated) âœ…
- [ ] åœ¨å¤šä¸ªæ ‡ç­¾é¡µé—´åˆ‡æ¢
- [ ] ä½¿ç”¨ Ctrl+Tab å¿«æ·é”®åˆ‡æ¢
- [ ] ç‚¹å‡»ä¸åŒçš„æ ‡ç­¾é¡µ

#### 3.3 æ ‡ç­¾é¡µæ›´æ–° (browser_action_tab_updated) âœ…
- [ ] åœ¨åœ°å€æ è¾“å…¥æ–°çš„URLå¹¶å›è½¦
- [ ] ç‚¹å‡»é¡µé¢å†…çš„é“¾æ¥å¯¼èˆªåˆ°æ–°é¡µé¢
- [ ] æŒ‰ F5 åˆ·æ–°é¡µé¢

#### 3.4 æ ‡ç­¾é¡µå…³é—­ (browser_action_tab_removed)
- [ ] ç‚¹å‡»æ ‡ç­¾é¡µçš„å…³é—­æŒ‰é’®(X)
- [ ] æŒ‰ Ctrl+W å…³é—­å½“å‰æ ‡ç­¾é¡µ
- [ ] å³é”®æ ‡ç­¾é¡µé€‰æ‹©"å…³é—­æ ‡ç­¾é¡µ"

## ğŸ” æµ‹è¯•è¿‡ç¨‹ç›‘æ§

### å®æ—¶ç›‘æ§æ–¹æ³•
åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç›‘æ§äº‹ä»¶æ”¶é›†ï¼š

#### æ–¹æ³•1: å¼€å‘è€…å·¥å…·ç›‘æ§
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œæ­¤ä»£ç æ¥ç›‘æ§äº‹ä»¶å‘é€
const originalSendMessage = chrome.runtime.sendMessage;
chrome.runtime.sendMessage = function(message, ...args) {
    if (message && message.type && message.type.startsWith('user_action_')) {
        console.log('ğŸŸ¢ Event sent:', message.type, message);
    }
    return originalSendMessage.call(this, message, ...args);
};
```

#### æ–¹æ³•2: æ‰©å±•å¼¹çª—ç›‘æ§
- [ ] åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å®šæœŸæ‰“å¼€æ‰©å±•å¼¹çª—
- [ ] è§‚å¯Ÿäº‹ä»¶è®¡æ•°æ˜¯å¦å¢åŠ 
- [ ] æŸ¥çœ‹æœ€è¿‘äº‹ä»¶åˆ—è¡¨

## ğŸ“ˆ æ•°æ®éªŒè¯æ£€æŸ¥

### å®Œæˆæµ‹è¯•åçš„éªŒè¯æ­¥éª¤

#### 1. å¯¼å‡ºå®Œæ•´æ•°æ®
- [ ] æ‰“å¼€æ‰©å±•å¼¹çª—ï¼Œç‚¹å‡»"DevMode"
- [ ] ç‚¹å‡»"Export Data"å¯¼å‡ºæµ‹è¯•æ•°æ®
- [ ] ä¿å­˜ä¸º `test-complete-YYYY-MM-DD.json`

#### 2. æ•°æ®å®Œæ•´æ€§éªŒè¯
æ£€æŸ¥å¯¼å‡ºçš„JSONä¸­ `eventTypeDistribution` æ˜¯å¦åŒ…å«ï¼š

```json
{
  "eventTypeDistribution": {
    "user_action_click": "åº”è¯¥ > 5",
    "user_action_keydown": "åº”è¯¥ > 3", 
    "user_action_text_input": "åº”è¯¥ > 2",
    "user_action_scroll": "åº”è¯¥ > 2",
    "user_action_mouse_pattern": "åº”è¯¥ > 1",
    "user_action_form_submit": "åº”è¯¥ >= 1",
    "user_action_focus_change": "åº”è¯¥ > 3",
    "user_action_page_visibility": "åº”è¯¥ > 2",
    "user_action_mouse_hover": "åº”è¯¥ > 3",
    "user_action_clipboard": "åº”è¯¥ > 3",
    "browser_action_tab_created": "åº”è¯¥ > 2",
    "browser_action_tab_activated": "åº”è¯¥ > 3",
    "browser_action_tab_updated": "åº”è¯¥ > 3",
    "browser_action_tab_removed": "åº”è¯¥ > 1"
  }
}
```

#### 3. ä½¿ç”¨æ•°æ®æ¸…æ´—è„šæœ¬éªŒè¯
```bash
cd "/Users/asherji/Source Code/Synapse"
python scripts/clean_debug_data.py test-complete-YYYY-MM-DD.json --stats test-stats.json
```

æŸ¥çœ‹ `test-stats.json` ä¸­çš„è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯ã€‚

## ğŸ› é—®é¢˜æ’æŸ¥

### å¦‚æœæŸäº›äº‹ä»¶ç±»å‹æœªæ”¶é›†åˆ°ï¼š

#### æ»šåŠ¨äº‹ä»¶é—®é¢˜
- [ ] ç¡®ä¿é¡µé¢è¶³å¤Ÿé•¿å¯ä»¥æ»šåŠ¨
- [ ] å°è¯•æ›´å¤§å¹…åº¦çš„æ»šåŠ¨åŠ¨ä½œ
- [ ] æ£€æŸ¥æ˜¯å¦åœ¨å¯æ»šåŠ¨çš„iframeä¸­

#### é¼ æ ‡æ¨¡å¼äº‹ä»¶é—®é¢˜  
- [ ] ç”»æ›´å¤æ‚çš„é¼ æ ‡è½¨è¿¹
- [ ] ç¡®ä¿é¼ æ ‡ç§»åŠ¨åæœ‰çŸ­æš‚åœé¡¿
- [ ] å°è¯•ä¸åŒçš„ç§»åŠ¨é€Ÿåº¦

#### è¡¨å•æäº¤é—®é¢˜
- [ ] ç¡®ä¿ä½¿ç”¨çš„æ˜¯çœŸå®çš„è¡¨å•å…ƒç´ 
- [ ] å°è¯•ä¸åŒçš„ç½‘ç«™è¡¨å•
- [ ] æ£€æŸ¥è¡¨å•æ˜¯å¦ä½¿ç”¨AJAXæäº¤

#### å‰ªè´´æ¿äº‹ä»¶é—®é¢˜
- [ ] ç¡®ä¿æµè§ˆå™¨æœ‰å‰ªè´´æ¿æƒé™
- [ ] å°è¯•ä¸åŒçš„å¤åˆ¶ç²˜è´´æ“ä½œ
- [ ] æ£€æŸ¥æ˜¯å¦åœ¨å®‰å…¨ä¸Šä¸‹æ–‡ä¸­ (HTTPS)

## âœ… æˆåŠŸæ ‡å‡†

æµ‹è¯•æˆåŠŸçš„æ ‡å‡†ï¼š
- [ ] æ€»äº‹ä»¶æ•° > 50ä¸ª
- [ ] è‡³å°‘æ”¶é›†åˆ° 12/14 ç§äº‹ä»¶ç±»å‹
- [ ] æ¯ç§äº‹ä»¶ç±»å‹è‡³å°‘æœ‰1ä¸ªå®ä¾‹
- [ ] æ•°æ®æ¸…æ´—è„šæœ¬èƒ½æ­£å¸¸å¤„ç†å¯¼å‡ºçš„æ•°æ®
- [ ] ç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤ºåˆç†çš„äº‹ä»¶åˆ†å¸ƒ

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

å®Œæˆæµ‹è¯•åï¼Œè¯·å¡«å†™ä»¥ä¸‹æŠ¥å‘Šï¼š

```
æµ‹è¯•æ—¥æœŸ: YYYY-MM-DD
æµ‹è¯•ç¯å¢ƒ: Firefoxç‰ˆæœ¬ + ç³»ç»Ÿä¿¡æ¯
æ‰©å±•ç‰ˆæœ¬: 1.3.0

æ”¶é›†åˆ°çš„äº‹ä»¶ç±»å‹æ•°é‡: __/14
æ€»äº‹ä»¶æ•°: ___ä¸ª

æˆåŠŸæ”¶é›†çš„äº‹ä»¶ç±»å‹:
âœ… user_action_click: ___ä¸ª
âœ… user_action_keydown: ___ä¸ª  
âœ… user_action_text_input: ___ä¸ª
â“ user_action_scroll: ___ä¸ª
â“ user_action_mouse_pattern: ___ä¸ª
â“ user_action_form_submit: ___ä¸ª
â“ user_action_focus_change: ___ä¸ª
â“ user_action_page_visibility: ___ä¸ª
â“ user_action_mouse_hover: ___ä¸ª
â“ user_action_clipboard: ___ä¸ª
âœ… browser_action_tab_created: ___ä¸ª
âœ… browser_action_tab_activated: ___ä¸ª
âœ… browser_action_tab_updated: ___ä¸ª
â“ browser_action_tab_removed: ___ä¸ª

é‡åˆ°çš„é—®é¢˜:
- 
- 

æ•°æ®è´¨é‡è¯„ä¼°: ä¼˜ç§€/è‰¯å¥½/éœ€æ”¹è¿›
```

---

**ğŸ’¡ æç¤º**: å»ºè®®å…ˆå®ŒæˆåŸºç¡€äº¤äº’äº‹ä»¶æµ‹è¯•ï¼Œç¡®è®¤ä¸»è¦åŠŸèƒ½æ­£å¸¸åï¼Œå†è¿›è¡Œé«˜çº§äº‹ä»¶çš„è¯¦ç»†æµ‹è¯•ã€‚